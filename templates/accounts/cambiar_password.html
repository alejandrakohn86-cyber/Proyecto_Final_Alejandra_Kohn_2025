{% extends 'base.html' %}

{% block title %}Cambiar Contraseña{% endblock %}

{% block header %}Cambiar Contraseña{% endblock %}

{% block content %}
<div style="max-width: 500px; margin: 0 auto;">
    {% if messages %}
        {% for message in messages %}
            <div style="padding: 10px; margin-bottom: 10px; background-color: {% if message.tags == 'error' %}#ffdddd{% else %}#ddffdd{% endif %}; border-radius: 5px;">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}

    <form method="post">
        {% csrf_token %}
        
        <div style="margin-bottom: 15px;">
            <label for="{{ form.old_password.id_for_label }}">Contraseña Actual:</label>
            {{ form.old_password }}
            {% if form.old_password.errors %}
                <div style="color: red; font-size: 12px;">{{ form.old_password.errors }}</div>
            {% endif %}
        </div>

        <div style="margin-bottom: 15px;">
            <label for="{{ form.new_password1.id_for_label }}">Nueva Contraseña:</label>
            {{ form.new_password1 }}
            {% if form.new_password1.errors %}
                <div style="color: red; font-size: 12px;">{{ form.new_password1.errors }}</div>
            {% endif %}
            <small style="display: block; color: #666; margin-top: 5px;">
                La contraseña debe tener al menos 8 caracteres y no puede ser completamente numérica.
            </small>
        </div>

        <div style="margin-bottom: 15px;">
            <label for="{{ form.new_password2.id_for_label }}">Confirmar Nueva Contraseña:</label>
            {{ form.new_password2 }}
            {% if form.new_password2.errors %}
                <div style="color: red; font-size: 12px;">{{ form.new_password2.errors }}</div>
            {% endif %}
        </div>

        <button type="submit" style="background-color: #3c8cf5; color: white; padding: 10px 20px; border: none; cursor: pointer; border-radius: 5px;">Cambiar Contraseña</button>
        <a href="{% url 'accounts:perfil' %}" style="background-color: #ccc; color: black; padding: 10px 20px; text-decoration: none; border-radius: 5px; display: inline-block; margin-left: 10px;">Cancelar</a>
    </form>
</div>

<style>
    input[type="password"] {
        width: 100%;
        padding: 8px;
        box-sizing: border-box;
    }
</style>
{% endblock %}