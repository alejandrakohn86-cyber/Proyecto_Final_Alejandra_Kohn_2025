{% extends 'base.html' %}

{% block title %}Editar Perfil{% endblock %}

{% block header %}Editar Perfil{% endblock %}

{% block content %}
<div style="max-width: 600px; margin: 0 auto;">
    {% if messages %}
        {% for message in messages %}
            <div style="padding: 10px; margin-bottom: 10px; background-color: #ddffdd; border-radius: 5px;">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        
        <div style="margin-bottom: 15px;">
            <label for="{{ form.first_name.id_for_label }}">Nombre:</label>
            {{ form.first_name }}
            {% if form.first_name.errors %}
                <div style="color: red; font-size: 12px;">{{ form.first_name.errors }}</div>
            {% endif %}
        </div>

        <div style="margin-bottom: 15px;">
            <label for="{{ form.last_name.id_for_label }}">Apellido:</label>
            {{ form.last_name }}
            {% if form.last_name.errors %}
                <div style="color: red; font-size: 12px;">{{ form.last_name.errors }}</div>
            {% endif %}
        </div>

        <div style="margin-bottom: 15px;">
            <label for="{{ form.email.id_for_label }}">Email:</label>
            {{ form.email }}
            {% if form.email.errors %}
                <div style="color: red; font-size: 12px;">{{ form.email.errors }}</div>
            {% endif %}
        </div>

        <div style="margin-bottom: 15px;">
            <label for="{{ form.fecha_nacimiento.id_for_label }}">Fecha de nacimiento:</label>
            {{ form.fecha_nacimiento }}
            {% if form.fecha_nacimiento.errors %}
                <div style="color: red; font-size: 12px;">{{ form.fecha_nacimiento.errors }}</div>
            {% endif %}
        </div>

        <div style="margin-bottom: 15px;">
            <label for="{{ form.avatar.id_for_label }}">Avatar:</label>
            {% if user.profile.avatar %}
                <div style="margin-bottom: 10px;">
                    <img src="{{ user.profile.avatar.url }}" alt="Avatar actual" style="width: 100px; height: 100px; border-radius: 50%; object-fit: cover;">
                    <p style="font-size: 12px; color: #666;">Avatar actual</p>
                </div>
            {% endif %}
            {{ form.avatar }}
            {% if form.avatar.errors %}
                <div style="color: red; font-size: 12px;">{{ form.avatar.errors }}</div>
            {% endif %}
        </div>

        <div style="margin-bottom: 15px;">
            <label for="{{ form.biografia.id_for_label }}">Biograf√≠a:</label>
            {{ form.biografia }}
            {% if form.biografia.errors %}
                <div style="color: red; font-size: 12px;">{{ form.biografia.errors }}</div>
            {% endif %}
        </div>

        <button type="submit" style="background-color: #3c8cf5; color: white; padding: 10px 20px; border: none; cursor: pointer; border-radius: 5px;">Guardar Cambios</button>
        <a href="{% url 'accounts:perfil' %}" style="background-color: #ccc; color: black; padding: 10px 20px; text-decoration: none; border-radius: 5px; display: inline-block; margin-left: 10px;">Cancelar</a>
    </form>
</div>

<style>
    input[type="text"], input[type="email"], input[type="date"], textarea {
        width: 100%;
        padding: 8px;
        box-sizing: border-box;
    }
    textarea {
        min-height: 100px;
        font-family: Arial, sans-serif;
    }
</style>
{% endblock %}